@page "/"
@namespace PaleBazaar.Pages
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@{
    Layout = "_Layout";
}

<component type="typeof(App)" render-mode="ServerPrerendered" />

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/microsoft-signalr/3.1.9/signalr.min.js"></script>

<script>
    var connection = new signalR.HubConnectionBuilder().withUrl("/chatbeacon").build();

    connection.on("ReceiveMessage", function (user, message) {
        // Handle the incoming message. For example, you could display it in the UI.
        console.log(user + ": " + message);
    });

    connection.start().catch(function (err) {
        return console.error(err.toString());
    });
</script>
